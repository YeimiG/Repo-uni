{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kike/Documents/Repo-uni/frontend-web/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API = axios.create({\n  baseURL: 'http://192.168.1.213:3000/api',\n  timeout: 5000,\n});\n\nexport const login = async (correo, clave) => {\n  const response = await API.post('/auth/login', { correo, clave });\n  return response.data;\n};\n\nexport const getMateriasCatedratico = async (idCatedratico) => {\n  try {\n    const response = await API.get(`/catedratico/materias/${idCatedratico}`);\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible, usando datos de prueba');\n    return [\n      { idmateria: 1, codigomateria: 'MAT101', nombremateria: 'Matemática I', idgrupo: 1, numerogrupo: '01' },\n      { idmateria: 2, codigomateria: 'ING101', nombremateria: 'Inglés I', idgrupo: 2, numerogrupo: '02' }\n    ];\n  }\n};\n\nexport const getEstudiantesGrupo = async (idGrupo) => {\n  try {\n    const response = await API.get(`/catedratico/estudiantes/${idGrupo}`);\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible, usando datos de prueba');\n    return [\n      { idestudiante: 1, expediente: 'E001', nombre: 'Juan', apellidos: 'Pérez', nota1: 8.5, nota2: 7.0, nota3: 9.0, notafinal: 8.17, idinscripcion: 1 },\n      { idestudiante: 2, expediente: 'E002', nombre: 'María', apellidos: 'García', nota1: null, nota2: null, nota3: null, notafinal: null, idinscripcion: 2 }\n    ];\n  }\n};\n\nexport const ingresarNotas = async (data) => {\n  try {\n    const response = await API.post('/catedratico/notas', data);\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible');\n    const notaFinal = ((data.nota1 + data.nota2 + data.nota3) / 3).toFixed(2);\n    return { ...data, notafinal: notaFinal };\n  }\n};\n\nexport const getUsuarios = async () => {\n  try {\n    const response = await API.get('/admin/usuarios');\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible, usando datos de prueba');\n    return [\n      { idusuario: 1, correo: 'admin@ieproes.edu.sv', nombrerol: 'Administrador' },\n      { idusuario: 2, correo: 'cate@ieproes.edu.sv', nombrerol: 'Catedrático' },\n      { idusuario: 3, correo: 'est@ieproes.edu.sv', nombrerol: 'Estudiante' }\n    ];\n  }\n};\n\nexport const crearUsuario = async (data) => {\n  try {\n    const response = await API.post('/admin/usuarios', data);\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible');\n    return { idusuario: Math.random(), ...data };\n  }\n};\n\nexport const crearEstudiante = async (data) => {\n  try {\n    const response = await API.post('/admin/estudiantes', data);\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible');\n    return { idestudiante: Math.random(), ...data };\n  }\n};\n\nexport const crearCatedratico = async (data) => {\n  try {\n    const response = await API.post('/admin/catedraticos', data);\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible');\n    return { idcatedratico: Math.random(), ...data };\n  }\n};\n\nexport const crearMateria = async (data) => {\n  try {\n    const response = await API.post('/admin/materias', data);\n    return response.data;\n  } catch (error) {\n    console.log('Backend no disponible');\n    return { idmateria: Math.random(), ...data };\n  }\n};\n\nexport default API;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kike/Documents/Repo-uni/frontend-web/pages/catedratico/mis-materias.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { getMateriasCatedratico } from '../../services/api';\n\nexport default function MisMaterias() {\n  const [materias, setMaterias] = useState([]);\n  const [usuario, setUsuario] = useState(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('usuario'));\n    if (!user || user.rol !== 'Catedrático') {\n      router.push('/');\n      return;\n    }\n    setUsuario(user);\n    cargarMaterias(user.idCatedratico);\n  }, []);\n\n  const cargarMaterias = async (idCatedratico) => {\n    try {\n      const data = await getMateriasCatedratico(idCatedratico);\n      setMaterias(data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const verEstudiantes = (idGrupo, nombreMateria, numeroGrupo) => {\n    router.push({\n      pathname: '/catedratico/ingresar-notas',\n      query: { idGrupo, nombreMateria, numeroGrupo }\n    });\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.header}>\n        <h1>Mis Materias</h1>\n        <button onClick={() => { localStorage.clear(); router.push('/'); }} style={styles.logoutBtn}>\n          Cerrar Sesión\n        </button>\n      </div>\n      \n      <div style={styles.content}>\n        {materias.length === 0 ? (\n          <p>No tienes materias asignadas</p>\n        ) : (\n          materias.map((m) => (\n            <div key={m.idgrupo} style={styles.card}>\n              <h3>{m.nombremateria}</h3>\n              <p>Código: {m.codigomateria}</p>\n              <p>Grupo: {m.numerogrupo}</p>\n              <button onClick={() => verEstudiantes(m.idgrupo, m.nombremateria, m.numerogrupo)} style={styles.btn}>\n                Ver Estudiantes\n              </button>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: { minHeight: '100vh', backgroundColor: '#f3f4f6', padding: '20px' },\n  header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '30px' },\n  logoutBtn: { padding: '10px 20px', backgroundColor: '#ef4444', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer' },\n  content: { display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '20px' },\n  card: { backgroundColor: 'white', padding: '20px', borderRadius: '12px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' },\n  btn: { marginTop: '10px', padding: '10px', backgroundColor: '#1e40af', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', width: '100%' }\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,uJAAS;IAExB,IAAA,gHAAS,EAAC;QACR,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;QAC7C,IAAI,CAAC,QAAQ,KAAK,GAAG,KAAK,eAAe;YACvC,OAAO,IAAI,CAAC;YACZ;QACF;QACA,WAAW;QACX,eAAe,KAAK,aAAa;IACnC,GAAG,EAAE;IAEL,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,MAAM,OAAO,MAAM,IAAA,qJAAsB,EAAC;YAC1C,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,iBAAiB,CAAC,SAAS,eAAe;QAC9C,OAAO,IAAI,CAAC;YACV,UAAU;YACV,OAAO;gBAAE;gBAAS;gBAAe;YAAY;QAC/C;IACF;IAEA,qBACE,qKAAC;QAAI,OAAO,OAAO,SAAS;;0BAC1B,qKAAC;gBAAI,OAAO,OAAO,MAAM;;kCACvB,qKAAC;kCAAG;;;;;;kCACJ,qKAAC;wBAAO,SAAS;4BAAQ,aAAa,KAAK;4BAAI,OAAO,IAAI,CAAC;wBAAM;wBAAG,OAAO,OAAO,SAAS;kCAAE;;;;;;;;;;;;0BAK/F,qKAAC;gBAAI,OAAO,OAAO,OAAO;0BACvB,SAAS,MAAM,KAAK,kBACnB,qKAAC;8BAAE;;;;;2BAEH,SAAS,GAAG,CAAC,CAAC,kBACZ,qKAAC;wBAAoB,OAAO,OAAO,IAAI;;0CACrC,qKAAC;0CAAI,EAAE,aAAa;;;;;;0CACpB,qKAAC;;oCAAE;oCAAS,EAAE,aAAa;;;;;;;0CAC3B,qKAAC;;oCAAE;oCAAQ,EAAE,WAAW;;;;;;;0CACxB,qKAAC;gCAAO,SAAS,IAAM,eAAe,EAAE,OAAO,EAAE,EAAE,aAAa,EAAE,EAAE,WAAW;gCAAG,OAAO,OAAO,GAAG;0CAAE;;;;;;;uBAJ7F,EAAE,OAAO;;;;;;;;;;;;;;;;AAa/B;AAEA,MAAM,SAAS;IACb,WAAW;QAAE,WAAW;QAAS,iBAAiB;QAAW,SAAS;IAAO;IAC7E,QAAQ;QAAE,SAAS;QAAQ,gBAAgB;QAAiB,YAAY;QAAU,cAAc;IAAO;IACvG,WAAW;QAAE,SAAS;QAAa,iBAAiB;QAAW,OAAO;QAAS,QAAQ;QAAQ,cAAc;QAAO,QAAQ;IAAU;IACtI,SAAS;QAAE,SAAS;QAAQ,qBAAqB;QAAyC,KAAK;IAAO;IACtG,MAAM;QAAE,iBAAiB;QAAS,SAAS;QAAQ,cAAc;QAAQ,WAAW;IAA4B;IAChH,KAAK;QAAE,WAAW;QAAQ,SAAS;QAAQ,iBAAiB;QAAW,OAAO;QAAS,QAAQ;QAAQ,cAAc;QAAO,QAAQ;QAAW,OAAO;IAAO;AAC/J"}}]
}